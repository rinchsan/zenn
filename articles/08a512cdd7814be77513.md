---
title: "Swift4 ã® String.count ã‚’ Go ã§ã‚„ã‚‹"
emoji: "ðŸ‚"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["go"]
published: true
---

# ã‚„ã‚ŠãŸã„ã“ã¨

`å®¶æ—ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦` ã‚’3æ–‡å­—ã¨ã—ã¦æ•°ãˆãŸã„ã€‚

# Swift4 ã® `String.count` ã¯ã™ã”ã„

å†…éƒ¨ã§`Grapheme Cluster`ãªã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ã£ã¦ã„ã¦ã€ãã‚Œã«ã‚ˆã£ã¦Unicodeæ–‡å­—åˆ—ã®æ–‡å­—æ•°ã‚’æ­£ç¢ºã«è¨ˆç®—ã§ãã¦ã„ã‚‹ã‚‰ã—ã„ã€‚
è©³ç´°ã¯ [Swiftã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.swift.org/swift-book/LanguageGuide/StringsAndCharacters.html#ID297) ã¸ã©ã†ãžã€‚

```swift:swift
print("å®¶æ—ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦".count) // -> 3
```

# Go ã® `utf8.RuneCountInString` ã§ã¯å¯¾å¿œã§ããªã„

`ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦`ãŒ7æ–‡å­—ã¨ã—ã¦æ•°ãˆã‚‰ã‚Œã¦ã—ã¾ã†ã€‚

```go:go
import "unicode/utf8"

func main() {
    print(utf8.RuneCountInString("å®¶æ—ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦")) // -> 9
}
```

# Go ã§ã‚‚ Swift4 ã® `String.count` ãŒã‚„ã‚ŠãŸã„

[github.com/rivo/uniseg](https://github.com/rivo/uniseg) ã‚’ä½¿ã†ã¨`Grapheme Cluster`ã‚’åˆ©ç”¨ã—ã¦æ–‡å­—åˆ—ã‚’å‡¦ç†ã§ãã‚‹ã€‚
Playgroundã§ã‚„ã‚‹ã¨ [ã“ã‚“ãªæ„Ÿã˜](https://play.golang.org/p/dgL9vtBj81d) ã«ãªã‚‹ã€‚

```go:go
import "github.com/rivo/uniseg"

func main() {
    print(uniseg.GraphemeClusterCount("å®¶æ—ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦")) // -> 3
}
```
